# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure-backend

# Build command configuration
build:
  # The command to run to build your app.
  # App Hosting will try to build automatically if not specified.
  run: npm run build

# Run command configuration
run:
  # The command to run to start your app.
  # App Hosting will try to start automatically if not specified.
  run: npm run start

# Environment variables
env:
  - variable: GENKIT_ENV
    value: production
    availability:
      - BUILD
      - RUNTIME
  - variable: FIREBASE_AUTH_EMULATOR_HOST
    value: 127.0.0.1:9099
    availability:
      - BUILD
      - RUNTIME
  - variable: FIRESTORE_EMULATOR_HOST
    value: 127.0.0.1:8080
    availability:
      - BUILD
      - RUNTIME
  - variable: GCLOUD_PROJECT
    value: ${PROJECT_ID}
    availability:
      - BUILD
      - RUNTIME
  - variable: FIREBASE_PROJECT_ID
    value: ${PROJECT_ID}
    availability:
      - BUILD
      - RUNTIME

# Runtime instance configuration
runConfig:
  # Maximum number of server instances to spin up.
  maxInstances: 1