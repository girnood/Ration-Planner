# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure

runConfig:
  # Increase this value if you'd like to automatically spin up
  # more instances in response to increased traffic.
  maxInstances: 1
# This is a sample apphosting.yaml file.
# You can use this file to configure your App Hosting backend.
# For more information, see the Firebase App Hosting documentation:
# https://firebase.google.com/docs/app-hosting/configure-backend
build:
  # You can specify the command to run to build your app here.
  # If you don't specify this, App Hosting will try to build your app
  # automatically.
  run: npm run build
run:
  # You can specify the command to run to start your app here.
  # If you don't specify this, App Hosting will try to start your app
  # automatically.
  run: npm run start
env:
  - variable: GENKIT_ENV
    value: production
    availability:
      - BUILD
      - RUNTIME
  - variable: FIREBASE_AUTH_EMULATOR_HOST
    value: 127.0.0.1:9099
    availability:
      - BUILD
      - RUNTIME
  - variable: FIRESTORE_EMULATOR_HOST
    value: 127.0.0.1:8080
    availability:
      - BUILD
      - RUNTIME
  - variable: GCLOUD_PROJECT
    value: ${PROJECT_ID}
    availability:
      - BUILD
      - RUNTIME
  - variable: FIREBASE_PROJECT_ID
    value: ${PROJECT_ID}
    availability:
      - BUILD
      - RUNTIME
